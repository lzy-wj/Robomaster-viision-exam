# 第四部分：基础算法与数据结构

## 📋 项目概述

本项目实现了机器人路径规划的核心算法——**A*搜索算法**，以及多个经典的基础算法和数据结构。、

### 🎯 核心特性

- **🗺️ A*路径规划**: 高效的二维栅格地图路径搜索
- **📊 基础算法库**: Dijkstra最短路径、LRU缓存、并查集等经典算法
- **🎮 命令行接口**: 友好的CLI工具，支持自定义地图和起止点
- **🧪 完整测试**: 自动化测试框架，覆盖所有核心功能
- **📈 性能优化**: 基于优先队列的高效实现
- **🔧 易于扩展**: 模块化设计，便于添加新算法

## 🏗️ 项目架构

### 📁 目录结构

```
第四部分/
├── README.md                    # 项目文档
├── test.sh                      # 统一测试脚本
├── astar_out.txt               # A*算法输出结果
├── algorithms/                  # 基础算法模块
│   ├── dijkstra.py             # Dijkstra最短路径算法
│   ├── lru_cache.py            # LRU缓存实现
│   ├── union_find.py           # 并查集数据结构
│   └── tests.py                # 单元测试套件
└── astar/                      # A*路径规划模块
    ├── astar.py                # A*算法核心实现
    └── map.txt                 # 测试地图文件
```

### 🔄 算法架构图

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   基础算法模块   │    │   A*路径规划    │    │   测试验证      │
│   algorithms/   │    │     astar/      │    │    test.sh      │
├─────────────────┤    ├─────────────────┤    ├─────────────────┤
│ • Dijkstra     │    │ • A*搜索算法    │    │ • 单元测试      │
│ • LRU Cache    │    │ • 启发式函数    │    │ • 集成测试      │
│ • Union Find   │    │ • 路径重建      │    │ • 结果验证      │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## 🚀 快速开始

### ⚡ 一键测试（推荐）

```bash
cd 第四部分
bash test.sh
```

**期望输出**:

```
[信息] 第四部分测试脚本 (可选CLI模式)
[测试] 第四部分：基础算法
OK: algorithms tests passed
[测试] A* 路径规划 CLI（示例：不可达路径，应输出提示）
I can't go to the postion (4,4).
[测试] A* 路径规划 CLI（示例：可达路径，应打印 * 路径）
* 0 1 0 0
* 1 0 1 0
* 1 0 0 1
1 1 0 1 1
0 0 0 1 0
[OK] 第四部分测试通过。
```

## 🎯 A*路径规划算法

### 📍 核心功能

A*算法是一种启发式搜索算法，用于在图形平面上找到从起始点到目标点的最短路径。

### 🧮 数学原理

**估价函数**: f(n) = g(n) + h(n)

- **g(n)**: 从起始点到节点n的实际代价
- **h(n)**: 从节点n到目标点的启发式估计（采用曼哈顿距离）
- **f(n)**: 节点n的总估价值

**启发式函数（曼哈顿距离）**:

```python
h(n) = |x1 - x2| + |y1 - y2|
```

### 🗺️ 地图格式

**标准测试地图 (map.txt)**:

```
0 0 1 0 0
0 1 0 1 0
0 1 0 0 1
1 1 0 1 1
0 0 0 1 0
```

- `0`: 可通行区域
- `1`: 障碍物（不可通行）
- 5×5栅格地图
- 支持4-邻接移动（上下左右）

### 💻 使用方法

#### 方法1: 直接调用A*程序

```bash
python astar/astar.py <map_file> <start_x> <start_y> <goal_x> <goal_y>

# 示例：可达路径
python astar/astar.py astar/map.txt 0 0 0 2

# 示例：不可达路径  
python astar/astar.py astar/map.txt 0 0 4 4
```

#### 方法2: 使用测试脚本快捷方式

```bash
# 使用默认地图
bash test.sh <start_x> <start_y> <goal_x> <goal_y>

# 指定自定义地图
bash test.sh <map_file> <start_x> <start_y> <goal_x> <goal_y>
```

### 📊 输出格式

#### 成功找到路径

```
* 0 1 0 0
* 1 0 1 0
* 1 0 0 1
1 1 0 1 1
0 0 0 1 0
```

- 使用 `*` 标记最优路径
- 保持原地图格式显示

#### 无法找到路径

```
I can't go to the postion (4,4).
```

- 标准化错误提示信息
- 显示目标坐标位置
